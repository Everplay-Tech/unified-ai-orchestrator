[storage]
db_type = "sqlite"  # "postgresql" or "sqlite"
db_path = "~/.uai/db.sqlite"  # For SQLite
# connection_string = "postgresql://user:password@localhost/dbname"  # For PostgreSQL
index_path = "~/.uai/indexes"

[tools.claude]
api_key_env = "ANTHROPIC_API_KEY"
enabled = true
model = "claude-3-5-sonnet-20241022"

[tools.gpt]
api_key_env = "OPENAI_API_KEY"
enabled = true
model = "gpt-4"

[routing]
default_tool = "claude"
code_editing = ["claude"]
research = ["claude"]
general_chat = ["claude", "gpt"]

[codebase]
auto_index = true
watch_paths = ["~/projects"]
index_depth = 3

[api]
enable_mobile = true
allowed_origins = ["*"]
rate_limit_per_minute = 60
api_key = ""  # Mobile API key (set via environment variable MOBILE_API_KEY)

[security]
# JWT settings
jwt_secret_key = ""  # Set via JWT_SECRET_KEY environment variable
jwt_algorithm = "HS256"
access_token_expire_minutes = 30
refresh_token_expire_days = 7

# Encryption
encryption_key = ""  # Set via ENCRYPTION_KEY environment variable
encryption_algorithm = "AES-256-GCM"

# Rate limiting
rate_limit_enabled = true
rate_limit_per_minute = 60
rate_limit_per_hour = 1000

# Input validation
max_input_length = 100000
max_query_param_length = 1000
enable_sql_injection_protection = true
enable_xss_protection = true

# CORS
cors_enabled = true
cors_allow_credentials = true
cors_max_age = 3600

# Security headers
enable_security_headers = true
enable_csrf_protection = true
enable_hsts = true
hsts_max_age = 31536000

# Audit logging
audit_logging_enabled = true
audit_log_file = "~/.uai/audit.log"
audit_retention_days = 90

# API key authentication
api_key_required = false  # Set to true in production
api_key_header = "X-API-Key"
api_key_query_param = "api_key"  # Less secure, use header preferred
